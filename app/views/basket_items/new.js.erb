basket_item_field = document.querySelector('.basket_item_field');
while (basket_item_field.firstChild) {
  basket_item_field.firstChild.remove()
}

insertBasketItem = (data) => {
    basket_item =
    `<div>
  <h2> Selected Item: <%= @menu_item.name %></h2>
  <div id="price" data-price="<%= @menu_item.price %>"><%= @menu_item.price * 1 %></div>

  <div class="actions">
    <a class="btn round-bordered incrementer minus"  id="btnMinus" data-offset="-1">-</a>
    <span id="counter" data-count="1">1</span>
    <a href="#" id= "btnPlus" class="btn round-bordered incrementer" data-offset="1">+</a>
  </div>


  <%= simple_form_for([@menu_item, @basket_item], remote: true) do |f| %>
    <%= f.input :quantity, as: :hidden, input_html: { value: 1 } %>
    <button type='submit'>
      Add to basket
    </button>
  <% end %>
</div>`;
basket_item_field.insertAdjacentHTML('beforeend', basket_item);
};

insertBasketItem()

buttonPlus = document.getElementById("btnPlus");
buttonMinus = document.getElementById("btnMinus");
counter = document.getElementById("counter");
price = document.getElementById("price");


buttonPlus.addEventListener("click", (event) => {
  event.preventDefault()
  let integer = parseInt(counter.innerText, 10);
  integer += 1;
  counter.innerHTML = integer;
  document.getElementById('basket_item_quantity').value = counter
});

buttonMinus.addEventListener("click", (event) => {
  event.preventDefault()
  let integer = parseInt(counter.innerText, 10);
  integer -= 1;
  counter.innerHTML = integer;
  document.getElementById('basket_item_quantity').value = counter
});
